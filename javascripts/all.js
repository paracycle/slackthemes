var app=angular.module("theme",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("theme",{url:"/:slug",controller:"ThemeController",params:{slug:{value:"aubergine"}}}),t.otherwise("/aubergine")}]),app.controller("ThemeController",["$scope","$stateParams","$state","$location",function(e,t,r,o){e.alpha=function(e,t){return e?chroma(e).alpha(t).css():""},e.mix=function(e,t,r){return e&&t?chroma.mix(t,e,r,"rgb").css():""},e.add=function(e,t){if(!e||!t)return"";e=chroma(e),t=chroma(t);var r=e.set("rgb.r",e.get("rgb.r")+t.get("rgb.r"));return r=r.set("rgb.g",e.get("rgb.g")+t.get("rgb.g")),r=r.set("rgb.b",e.get("rgb.b")+t.get("rgb.b")),r.css()},e.sub=function(e,t){if(!e||!t)return"";e=chroma(e),t=chroma(t);var r=e.set("rgb.r",e.get("rgb.r")-t.get("rgb.r"));return r=r.set("rgb.g",e.get("rgb.g")-t.get("rgb.g")),r=r.set("rgb.b",e.get("rgb.b")-t.get("rgb.b")),r.css()},e.$on("$stateChangeSuccess",function(){e.slug=t.slug}),e.$watch("slug",function(t){if(t){if("custom"===t){var n=o.hash().split(",").map(function(e){return"#"+e});return void(e.colors={column_bg:n[0],menu_bg:n[1],active_item:n[2],active_item_text:n[3],hover_item:n[4],text_color:n[5],active_presence:n[6],mention_badge:n[7],top_nav_bg:n[8]||n[1],top_nav_text:n[9]||n[5]})}element=document.getElementById(e.slug),e.colors=JSON.parse(element.dataset.colors),r.go("theme",{slug:t}),element.scrollIntoView({block:"center",inline:"nearest"})}}),e.$watch("colors",function(t){function n(){o.hash([t.column_bg,t.menu_bg,t.active_item,t.active_item_text,t.hover_item,t.text_color,t.active_presence,t.mention_badge,t.top_nav_bg,t.top_nav_text].map(function(e){return e.replace("#","")}))}t&&(e.column_bg=t.column_bg,e.menu_bg=t.menu_bg,e.active_item=t.active_item,e.active_item_text=t.active_item_text,e.hover_item=t.hover_item,e.text_color=t.text_color,e.active_presence=t.active_presence,e.mention_badge=t.mention_badge,e.top_nav_bg=t.top_nav_bg,e.top_nav_text=t.top_nav_text,e.color_string=[t.column_bg,t.menu_bg,t.active_item,t.active_item_text,t.hover_item,t.text_color,t.active_presence,t.mention_badge,t.top_nav_bg,t.top_nav_text].join(","),"custom"===e.slug?n():JSON.stringify(t)!==document.getElementById(e.slug).dataset.colors&&r.go("theme",{slug:"custom"}).then(n))}),e.copyColors=function(){clipboard.write(e.color_string)}}]);